wp.customize.controlConstructor.tpfw_select=wp.customize.Control.extend({ready:function(){"use strict";var t,e=this,n=this.container.find("select"),i=n.data("multiple");i&&jQuery(n).selectize({plugins:["remove_button","drag_drop"]}),this.container.on("change","select",function(){t=jQuery(this).val(),i&&(t=_.extend({},jQuery(this).val())),e.setting.set(t)})}}),jQuery(function(t){"use strict";document.getElementsByClassName("tpfw-icon_picker").length&&t("#widgets-right .customize-control .tpfw-icon_picker:not(.child-field) select").fontIconPicker(),document.getElementsByClassName("tpfw-repeater").length&&t("#widgets-right .tpfw-repeater").tpfwRepeater(),document.getElementsByClassName("tpfw-map").length&&t("#widgets-right .tpfw-map").tpfwMap(),document.getElementsByClassName("tpfw-datetime").length&&t("#widgets-right .tpfw-datetime input").each(function(){var e=t(this).data();t(this).datetimepicker(e)}),document.getElementsByClassName("tpfw-link").length&&t("#widgets-right .customize-control .tpfw-link").tpfwLink(),t(".accordion-section").on("expanded",function(){t(this).find(".tpfw-map:not(.child-field)").length&&t(this).find(".tpfw-map:not(.child-field)").tpfwMap()}),document.getElementsByClassName("tpfw-typography").length&&t("#widgets-right .customize-control .tpfw-typography").tpfwTypography();var e=t("textarea.custom_code"),n=e[0];e.on("blur",function(){e.data("next-tab-blurs",!1)}),e.on("keydown",function(t){var i,o,a,s=9,c=27;return c===t.keyCode?void(e.data("next-tab-blurs")||(e.data("next-tab-blurs",!0),t.stopPropagation())):void(s!==t.keyCode||t.ctrlKey||t.altKey||t.shiftKey||e.data("next-tab-blurs")||(i=n.selectionStart,o=n.selectionEnd,a=n.value,i>=0&&(n.value=a.substring(0,i).concat("	",a.substring(o)),e.selectionStart=n.selectionEnd=i+1),t.stopPropagation(),t.preventDefault()))}),document.getElementsByClassName("tpfw-autocomplete").length&&(t("#widgets-right .customize-control .tpfw-autocomplete:not(.child-field) select").tpfwAutocomplete(),t("#widgets-right").on("change",".customize-control .tpfw-autocomplete select",function(){t(this).closest("div").find(".tpfw_value").val(t(this).val()).trigger("change")}))}),function(t){wp.customize.bind("ready",function(){"object"==typeof tpfw_customizer_dependency&&t.each(tpfw_customizer_dependency,function(e,n){wp.customize(e,function(e){t.each(n.elements,function(i,o){wp.customize.control(i,function(i){var a=function(){var a=e.get();if("checkbox_multiple"==n.type&&"string"==typeof a&&""!=a&&(a=a.split(",")),"object"==typeof o.values){var s=!1;if("object"!=typeof a)t.inArray(a,o.values)>=0&&(s=!0);else if(1==o.values.length)t.inArray(o.values[0],a)>=0&&(s=!0);else{var c=[],l=o.values,r=Object.values(a);l.length<r.length&&(l=Object.values(a),r=o.values),t.each(l,function(e,n){-1==t.inArray(n,r)&&c.push(n)}),s=0==c.length?!0:!1}s?i.container.show():i.container.hide()}else a==o.values?i.container.show():i.container.hide()};a(),e.bind(a)})})})})})}(jQuery);